(()=>{var e={};e.id=368,e.ids=[368],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1085:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>g,routeModule:()=>c,serverHooks:()=>l,workAsyncStorage:()=>p,workUnitAsyncStorage:()=>d});var s={};r.r(s),r.d(s,{GET:()=>u});var n=r(6559),o=r(8088),a=r(7719),i=r(2190);async function u(){try{let e=process.env.QANYTHING_API_KEY;if(!e)return i.NextResponse.json({success:!1,error:"QAnything API Key not configured"},{status:500});let t={question:"你好",kbIds:["KB953e51ad095742629192eb0bf4a3a748_240430"],history:[],model:"QAnything 4o mini",maxToken:1024,hybridSearch:!1,networking:!0,sourceNeeded:!0};console.log("Direct QAnything API Request:",JSON.stringify(t,null,2));let r=await fetch("https://openapi.youdao.com/q_anything/api/chat_stream",{method:"POST",headers:{Authorization:e,"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log("QAnything API Response Status:",r.status),console.log("QAnything API Response Headers:",Object.fromEntries(r.headers.entries())),!r.ok){let e=await r.text();return console.error("QAnything API Error Response:",e),i.NextResponse.json({success:!1,error:`HTTP ${r.status}: ${r.statusText}`,details:e,requestData:t},{status:r.status})}let s=r.body?.getReader();if(!s)return i.NextResponse.json({success:!1,error:"Cannot read response stream"},{status:500});let n=new TextDecoder,o=[],a="";try{for(;;){let{done:e,value:t}=await s.read();if(e)break;let r=n.decode(t,{stream:!0});o.push(r),a+=r}}finally{s.releaseLock()}return console.log("Full QAnything Response:",a),i.NextResponse.json({success:!0,message:"QAnything API direct test successful",chunks:o,fullResponse:a,requestData:t})}catch(e){return console.error("Direct QAnything test error:",e),i.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Unknown error"},{status:500})}}let c=new n.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/qanything/direct-test/route",pathname:"/api/qanything/direct-test",filename:"route",bundlePath:"app/api/qanything/direct-test/route"},resolvedPagePath:"C:\\Users\\24247\\Desktop\\新建文件夹\\新建文件夹\\src\\app\\api\\qanything\\direct-test\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:p,workUnitAsyncStorage:d,serverHooks:l}=c;function g(){return(0,a.patchFetch)({workAsyncStorage:p,workUnitAsyncStorage:d})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[719,580],()=>r(1085));module.exports=s})();