(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{3529:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});var t=a(5155),l=a(2115),n=a(9509);function r(){let[e,s]=(0,l.useState)(null),[a,r]=(0,l.useState)(null),[i,d]=(0,l.useState)({wakatime:!1,qanything:!1}),c=async()=>{d(e=>({...e,wakatime:!0}));try{let e=await fetch("/api/wakatime?type=check"),a=await e.json();s(a)}catch(e){s({error:e instanceof Error?e.message:"Unknown error"})}finally{d(e=>({...e,wakatime:!1}))}},m=async()=>{d(e=>({...e,qanything:!0}));try{let e=await fetch("/api/qanything/test"),s=await e.json();r(s)}catch(e){r({error:e instanceof Error?e.message:"Unknown error"})}finally{d(e=>({...e,qanything:!1}))}};return(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"API 测试页面"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"WakaTime API 测试"}),(0,t.jsx)("button",{onClick:c,disabled:i.wakatime,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed mb-4",children:i.wakatime?"测试中...":"测试 WakaTime API"}),e&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-800 mb-2",children:"测试结果:"}),(0,t.jsx)("pre",{className:"bg-gray-100 p-3 rounded text-sm overflow-auto max-h-64",children:JSON.stringify(e,null,2)})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"QAnything API 测试"}),(0,t.jsx)("button",{onClick:m,disabled:i.qanything,className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed mb-4",children:i.qanything?"测试中...":"测试 QAnything API"}),a&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-800 mb-2",children:"测试结果:"}),(0,t.jsx)("pre",{className:"bg-gray-100 p-3 rounded text-sm overflow-auto max-h-64",children:JSON.stringify(a,null,2)})]})]})]}),(0,t.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"环境变量检查"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"WAKATIME_API_KEY:"}),(0,t.jsx)("span",{className:"px-2 py-1 rounded ".concat(n.env.NEXT_PUBLIC_WAKATIME_CHECK?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:n.env.NEXT_PUBLIC_WAKATIME_CHECK?"已配置":"未配置"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"QANYTHING_API_KEY:"}),(0,t.jsx)("span",{className:"px-2 py-1 rounded ".concat(n.env.NEXT_PUBLIC_QANYTHING_CHECK?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:n.env.NEXT_PUBLIC_QANYTHING_CHECK?"已配置":"未配置"})]})]}),(0,t.jsx)("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,t.jsx)("strong",{children:"注意:"})," 如果API密钥显示未配置，请检查 .env.local 文件是否正确设置了环境变量，并重启开发服务器。"]})})]})]})}},8490:(e,s,a)=>{Promise.resolve().then(a.bind(a,3529))}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(8490)),_N_E=e.O()}]);