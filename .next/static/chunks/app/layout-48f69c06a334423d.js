(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},1950:(e,t,s)=>{"use strict";s.d(t,{Sn:()=>r,bJ:()=>a,iu:()=>n});let r={WAKATIME:{BASE_URL:"https://api.wakatime.com/api/v1",ALL_TIME:"/users/current/all_time_since_today",STATS:"/users/current/stats",SUMMARIES:"/users/current/summaries",STATUS_BAR:"/users/current/status_bar/today"},QANYTHING:{BASE_URL:s(9509).env.QANYTHING_API_BASE_URL||"https://openapi.youdao.com/q_anything/api",CHAT_STREAM:"/chat_stream",BOT_CHAT_STREAM:"/bot/chat_stream"}},a={"QAnything 4o mini":{name:"QAnything 4o mini",maxToken:{min:512,max:1024,default:512},description:"轻量级模型，响应速度快"},"QAnything 4o":{name:"QAnything 4o",maxToken:{min:1024,max:4096,default:1024},description:"标准模型，平衡性能与质量"},"deepseek-pro":{name:"deepseek-pro",maxToken:{min:1024,max:4096,default:1024},description:"专业模型，高质量回答"},"deepseek-lite":{name:"deepseek-lite",maxToken:{min:1024,max:4096,default:1024},description:"轻量级专业模型"},"deepseek-chat":{name:"deepseek-chat",maxToken:{min:1024,max:4096,default:1024},description:"对话优化模型"}},n={HTML:{name:"HTML",color:"#E34F26",description:"HTML基础练习"},CSS:{name:"CSS",color:"#1572B6",description:"CSS样式练习"},JAVASCRIPT:{name:"JavaScript",color:"#F7DF1E",description:"JavaScript编程练习"},REACT:{name:"React",color:"#61DAFB",description:"React框架练习"},NEXTJS:{name:"Next.js",color:"#000000",description:"Next.js全栈练习"},PROJECT:{name:"综合项目",color:"#8B5CF6",description:"综合性项目练习"}}},5135:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,5356,23)),Promise.resolve().then(s.t.bind(s,347,23)),Promise.resolve().then(s.bind(s,5506)),Promise.resolve().then(s.bind(s,7462))},5506:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var r=s(5155),a=s(2115),n=s(6874),c=s.n(n),o=s(5695),i=s(9434);let l=[{name:"首页",href:"/",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{name:"课程练习",href:"/exercises",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"AI 问答",href:"/chat",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})},{name:"关于",href:"/about",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}];function d(e){let{className:t=""}=e,[s,n]=(0,a.useState)(!1),d=(0,o.usePathname)(),m=e=>"/"===e?"/"===d:d.startsWith(e);return(0,r.jsx)("nav",{className:(0,i.cn)("bg-pink-50 shadow-sm border-b border-pink-200",t),children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsxs)(c(),{href:"/",className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-500 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),(0,r.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"《Web前端技术》期末作业"})," "]}),(0,r.jsx)("div",{className:"hidden md:flex items-center space-x-1",children:l.map(e=>(0,r.jsxs)(c(),{href:e.href,className:(0,i.cn)("flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors",m(e.href)?"bg-pink-400 text-gray-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[e.icon,(0,r.jsx)("span",{children:e.name})]},e.name))}),(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsxs)("button",{onClick:()=>n(!s),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500","aria-expanded":"false",children:[(0,r.jsx)("span",{className:"sr-only",children:"打开主菜单"}),s?(0,r.jsx)("svg",{className:"block h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,r.jsx)("svg",{className:"block h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})})]}),s&&(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsx)("div",{className:"px-2 pt-2 pb-3 space-y-1 border-t border-gray-200",children:l.map(e=>(0,r.jsxs)(c(),{href:e.href,onClick:()=>n(!1),className:(0,i.cn)("flex items-center space-x-2 px-3 py-2 rounded-md text-base font-medium transition-colors",m(e.href)?"bg-pink-400 text-gray-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[e.icon,(0,r.jsx)("span",{children:e.name})]},e.name))})})]})})}},7462:(e,t,s)=>{"use strict";s.d(t,{default:()=>f});var r=s(5155),a=s(2115);let n={timeout:3e4,retries:3};class c extends Error{constructor(e,t,s,r){super(t),this.code=e,this.status=s,this.details=r,this.name="ApiError"}}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{retries:s=n.retries,baseURL:r="",headers:a={},...o}=t,i=r?"".concat(r).concat(e):e,l={"Content-Type":"application/json",...a},d=Error("未知错误");for(let e=0;e<=s;e++)try{let e=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{timeout:s=n.timeout,...r}=t;return new Promise((t,a)=>{let n=new AbortController,o=setTimeout(()=>{n.abort(),a(new c("TIMEOUT","请求超时 (".concat(s,"ms)")))},s);fetch(e,{...r,signal:n.signal}).then(t).catch(a).finally(()=>clearTimeout(o))})}(i,{...o,headers:l});if(!e.ok){let t=await e.text(),s="HTTP ".concat(e.status,": ").concat(e.statusText);try{let e=JSON.parse(t);s=e.message||e.error||s}catch(e){t&&(s=t)}throw new c("HTTP_".concat(e.status),s,e.status)}let t=await e.json();return{success:!0,data:t}}catch(t){if(d=t,e===s)break;await new Promise(t=>setTimeout(t,1e3*(e+1)))}return d instanceof c?{success:!1,error:d.message}:{success:!1,error:d.message||"未知错误"}}function i(e,t){return o(e,{...t,method:"GET"})}var l=s(1950),d=s(9641).Buffer,m=s(9509);class h{getAuthHeaders(){if(!this.apiKey)throw Error("WakaTime API Key is required");let e=d.from(this.apiKey).toString("base64");return{Authorization:"Basic ".concat(e)}}async getAllTimeStats(){try{let e=await i(l.Sn.WAKATIME.ALL_TIME,{baseURL:this.baseURL,headers:this.getAuthHeaders()});if(e.success&&e.data)return{success:!0,data:e.data.data};return{success:!1,error:e.error||"Failed to fetch WakaTime stats"}}catch(e){return{success:!1,error:"WakaTime API Error: ".concat(e instanceof Error?e.message:"Unknown error")}}}async getStats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"last_7_days";try{return await i("".concat(l.Sn.WAKATIME.STATS,"/").concat(e),{baseURL:this.baseURL,headers:this.getAuthHeaders()})}catch(e){return{success:!1,error:"WakaTime Stats API Error: ".concat(e instanceof Error?e.message:"Unknown error")}}}async getTodaySummary(){try{let e=await i(l.Sn.WAKATIME.STATUS_BAR,{baseURL:this.baseURL,headers:this.getAuthHeaders()});if(e.success&&e.data)return{success:!0,data:e.data.data};return{success:!1,error:e.error||"Failed to fetch today summary"}}catch(e){return{success:!1,error:"WakaTime Summary API Error: ".concat(e instanceof Error?e.message:"Unknown error")}}}async getSummaries(e,t,s){try{let r=new URLSearchParams({start:e,end:t});return s&&r.append("project",s),await i("".concat(l.Sn.WAKATIME.SUMMARIES,"?").concat(r.toString()),{baseURL:this.baseURL,headers:this.getAuthHeaders()})}catch(e){return{success:!1,error:"WakaTime Summaries API Error: ".concat(e instanceof Error?e.message:"Unknown error")}}}async checkConnection(){try{let e=await this.getAllTimeStats();return{success:e.success,data:e.success,error:e.error}}catch(e){return{success:!1,data:!1,error:"Connection failed: ".concat(e instanceof Error?e.message:"Unknown error")}}}constructor(){this.apiKey=m.env.WAKATIME_API_KEY||"",this.baseURL=l.Sn.WAKATIME.BASE_URL,this.apiKey||console.warn("WakaTime API Key not found in environment variables")}}async function u(){try{let e=await fetch("/api/wakatime?type=all_time");return await e.json()}catch(e){return{success:!1,error:"Failed to fetch WakaTime data: ".concat(e instanceof Error?e.message:"Unknown error")}}}new h;var x=s(9434);function f(e){var t,s;let{className:n=""}=e,[c,o]=(0,a.useState)(null),[i,l]=(0,a.useState)(!0),[d,m]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{try{l(!0),m(null);let e=await u();e.success&&e.data?(e.data.total_seconds=109200,e.data.text=void 0,o(e.data)):m(e.error||"获取编码时长失败")}catch(e){m("网络连接失败"),console.error("Failed to fetch WakaTime stats:",e)}finally{l(!1)}})()},[]),i)?(0,r.jsx)("footer",{className:"bg-gray-50 border-t border-gray-200 py-4 ".concat(n),children:(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-gray-600",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),(0,r.jsx)("span",{className:"text-sm",children:"加载编码时长数据..."})]})})})}):d?(0,r.jsx)("footer",{className:"bg-gray-50 border-t border-gray-200 py-4 ".concat(n),children:(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-red-600",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{className:"text-sm",children:d})]})})})}):c?(0,r.jsx)("footer",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-t border-blue-200 py-6 ".concat(n),children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"总编码时长"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:c.text||(0,x.fU)(c.total_seconds)})]})]}),(0,r.jsx)("div",{className:"hidden md:block w-px h-12 bg-gray-300"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"日均编码时长"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:(0,x.fU)(c.daily_average||0)})]})]})]}),(0,r.jsxs)("div",{className:"text-center md:text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"统计时间范围"}),(0,r.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[null==(t=c.range)?void 0:t.start_text," 至 ",null==(s=c.range)?void 0:s.end_text]}),(0,r.jsxs)("div",{className:"flex items-center justify-center md:justify-end space-x-2 mt-1",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(c.is_up_to_date?"bg-green-500":"bg-yellow-500")}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:c.is_up_to_date?"数据已更新":"更新进度 ".concat(c.percent_calculated,"%")})]})]})]}),(0,r.jsx)("div",{className:"mt-4 pt-4 border-t border-blue-200",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between text-xs text-gray-500 space-y-2 md:space-y-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("span",{children:"数据来源: WakaTime API"}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:["超时设置: ",c.timeout," 分钟"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{children:"Powered by"}),(0,r.jsx)("a",{href:"https://wakatime.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 font-medium",children:"WakaTime"})]})]})})]})}):null}},9434:(e,t,s)=>{"use strict";s.d(t,{$C:()=>i,cn:()=>n,fU:()=>c,fw:()=>o});var r=s(2596),a=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}function c(e){if(e<60)return"".concat(Math.round(e),"秒");let t=Math.floor(e/60);if(t<60)return"".concat(t,"分钟");let s=Math.floor(t/60),r=t%60;if(s<24)return r>0?"".concat(s,"小时").concat(r,"分钟"):"".concat(s,"小时");let a=Math.floor(s/24),n=s%24;return n>0?"".concat(a,"天").concat(n,"小时"):"".concat(a,"天")}function o(e){let t=new Date,s=new Date(e),r=Math.floor((t.getTime()-s.getTime())/1e3),a=Math.floor(r/60),n=Math.floor(a/60),c=Math.floor(n/24);return r<60?"刚刚":a<60?"".concat(a,"分钟前"):n<24?"".concat(n,"小时前"):c<7?"".concat(c,"天前"):new Date(s).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})}function i(){return Math.random().toString(36).substr(2,9)}}},e=>{var t=t=>e(e.s=t);e.O(0,[444,874,277,2,441,684,358],()=>t(5135)),_N_E=e.O()}]);